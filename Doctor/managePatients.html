<!-- HTML5 Document Type Declaration -->
<!doctype html>
<!-- Set document language to English for accessibility -->
<html lang="en">
    <head>
        <!-- Character encoding for proper text rendering -->
        <meta charset="utf-8">
        <!-- Viewport settings for responsive design -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Meta tags for SEO -->
        <meta name="description" content="">
        <meta name="author" content="">

       <!-- Page title (Note: "tooth" seems inconsistent with content) -->
       <title>Tooth - Manage Patients</title>

       <!-- Favicon for browser tab -->
       <link rel="icon" href="../css/images/tooth-cleaning.png" type="">

        <!-- CSS FILES -->
        <!-- Google Fonts - Montserrat and Open Sans -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans&display=swap" rel="stylesheet">

        <!-- Bootstrap core CSS -->
        <link href="../css/bootstrap.min.css" rel="stylesheet">

        <!-- Bootstrap Icons -->
        <link href="../css/bootstrap-icons.css" rel="stylesheet">

        <!-- Custom stylesheet -->
        <link href="../css/templatemo-topic-listing.css" rel="stylesheet">

    </head>

    <body id="top">
        <!-- Main content container -->
        <main>

            <!-- Main navigation bar -->
            <nav class="navbar navbar-expand-lg">
                <div class="container">
                <!-- Brand/logo -->
                <a class="navbar-brand" href="index_doctor.html">
                    <img src="../css/images/tooth-cleaning.png" width="28" height="28"
                        class="d-inline-block align-text-top">
                    <span>Aidentify</span>
                </a>



                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-lg-5 me-lg-auto">
                          <li class="nav-item">
                                <a class="nav-link click-scroll" href="subscribe_doctor.html"> subscribe </a>
                            </li>
                         <li class="nav-item">
                                <a class="nav-link click-scroll" href="managePatients.html"> patients  </a>
                            </li>



                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#section_5" id="navbarLightDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">Predtiction</a>

                                <ul class="dropdown-menu dropdown-menu-light" aria-labelledby="navbarLightDropdownMenuLink">
                                    <li>
                                        <a class="dropdown-item active" href="predict_age.html">Predict Age</a>
                                    </li>

                                    <li >
                                        <a class="dropdown-item active" href="predict_Disease.html">Predict Disease</a>
                                    </li>

                                    <li >
                                        <a class="dropdown-item active" href="predict_gender.html">Predict Gender</a>
                                    </li>

                                    <li >
                                        <a class="dropdown-item active" href="predict_Teeth.html">Predict Teeth</a>
                                    </li>
                                </ul>
                            </li>


                    </ul>

                    <!-- Desktop user icon and logout -->
                    <div class="d-flex flex-column flex-lg-row align-items-lg-center gap-2">
                        <a href="doctor_Profile.html" class="navbar-icon bi-person smoothscroll"></a>
                    <img src="../css/images/logout.png" width="28" height="28" id="logoutBtn">
                    </div>
                </div>
            </nav>

          <header class="site-header d-flex flex-column justify-content-center align-items-center">
              <div class="container">
                  <div class="row align-items-center">

                      <div class="col-lg-5 col-12">
                          <nav aria-label="breadcrumb">
                              <ol class="breadcrumb">
                                  <li class="breadcrumb-item"><a href="../index.html">Homepage</a></li>

                                  <li class="breadcrumb-item active" aria-current="page">Patients </li>
                              </ol>
                          </nav>

                          <h3 class="text-white">Manage all data of your patient </h3>
                      </div>

                  </div>
              </div>
          </header>
            <!-- Add new patient Modal -->
            <div class="modal fade" id="AddNewPatient" tabindex="-1" aria-labelledby="AddNewPatientLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <form id="createPlanForm">
                            <div class="modal-body" id="printable-area">
                                <!-- Include heading in printable area -->
                                <h5 class="modal-title mb-4 text-center">Fill information about your patient</h5>

                                <!-- Name -->
                                <div class="col-12 mb-3">
                                    <label for="name" class="form-label">Name</label>
                                    <input type="text" name="name" id="name" class="form-control" placeholder="Enter patient's name" required>
                                </div>

                                <!-- Age -->
                                <div class="col-12 mb-3">
                                    <label for="age" class="form-label">Age</label>
                                    <input type="number" name="age" id="age" class="form-control" placeholder="Enter patient's age" min="1" required>
                                </div>

                                <!-- Gender -->
                                <div class="col-12 mb-3">
                                    <label for="gender" class="form-label">Gender</label>
                                    <select name="gender" id="gender" class="form-select" required>
                                        <option value="" disabled selected>Select Gender</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>

                                <!-- Phone -->
                                <div class="col-12 mb-3">
                                    <label for="phone" class="form-label">Phone</label>
                                    <input type="tel" name="phone" id="phone" class="form-control" placeholder="Enter phone number" required>
                                </div>

                                <!-- Address -->
                                <div class="col-12 mb-3">
                                    <label for="address" class="form-label">Address</label>
                                    <input type="text" name="address" id="address" class="form-control" placeholder="Enter address" required>
                                </div>

                                <!-- Email -->
                                <div class="col-12 mb-3">
                                    <label for="email" class="form-label">Email address</label>
                                    <input type="email" name="email" id="email" class="form-control" placeholder="Enter email address" required>
                                </div>

                                <!-- Report -->
                                <div class="col-12 mb-3">
                                    <label for="message" class="form-label">Report about the patient</label>
                                    <textarea class="form-control" id="message" name="message" placeholder="Enter patient report" rows="4"></textarea>
                                </div>
                            </div>

                            <!-- Buttons -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <button type="submit" class="btn btn-primary">Create Plan</button>
                                <button type="button" class="btn btn-primary" onclick="printDiv('printable-area')">Print Report</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

             <!-- patients data -->
             <section>
             <!-- Add new patient -->
            <div class="text-center my-4">
                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#AddNewPatient" style="background-color: #13547a; border-color:#13547a;">
                    + Add new patient
                </button>
            </div>
                <div class="row justify-content-center g-4 mt-4">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 text-center">
                                <h2 class="mb-4">Our Patients</h2>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-9 col-12">
                        <div class="table-responsive text-nowrap">
                        <table class="table table-striped">
    <thead>
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>Age Group</th>
            <th>Gender</th>
            <th>Disease Prediction</th>
            <th>Diagnosis</th>
            <th>Teeth Prediction</th>
            <th>Visit Date</th>
            <th>Edit </th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1</td>
            <td><strong>Omar Ali</strong></td>
            <td>Child</td>
            <td>Male</td>
            <td>Cavity</td>
            <td>Severe tooth decay in molars</td>
            <td>Tooth 26 affected</td>
            <td>2025-06-11</td>
            <td>
                <img src="../css/images/edit.png" width="28" height="28" class="d-inline-block align-text-top">
            </td>
            <td>
                <img src="../css/images/delete.png" width="28" height="28" class="d-inline-block align-text-top">

            </td>
        </tr>

        <tr>
            <td>2</td>
            <td><strong>Laila Hassan</strong></td>
            <td>Adult</td>
            <td>Female</td>
            <td>Healthy</td>
            <td>No issues found</td>
            <td>All teeth healthy</td>
            <td>2025-06-09</td>
            <td>
                <img src="../css/images/edit.png" width="28" height="28" class="d-inline-block align-text-top">
            </td>
            <td>
                <img src="../css/images/delete.png" width="28" height="28" class="d-inline-block align-text-top">

            </td>
</tr>

        <tr>
            <td>3</td>
            <td><strong>Youssef Adel</strong></td>
            <td>Senior</td>
            <td>Male</td>
            <td>Gum Disease</td>
            <td>Inflammation of gums with bleeding</td>
            <td>Multiple teeth affected</td>
            <td>2025-06-01</td>
             <td>
                <img src="../css/images/edit.png" width="28" height="28" class="d-inline-block align-text-top">
            </td>
            <td>
                <img src="../css/images/delete.png" width="28" height="28" class="d-inline-block align-text-top">

            </td>
        </tr>
    </tbody>
</table>

                        </div>
                    </div>
                </div>

             </section>

        </main>
        <!-- Footer -->
            <footer class="site-footer section-padding">
                <div class="container">
                    <div class="row g-4">
                        <!-- Brand Column -->
                        <div class="col-lg-4 col-md-6">
                            <a class="navbar-brand mb-4" href="index_admin.html">
                                <img src="../css/images/tooth-cleaning.png" width="32" height="32"
                                    class="d-inline-block align-text-top">
                                <span class="ms-2">Aidentify</span>
                            </a>
                            <p class="text-white mb-4">Empowering dental professionals with AI-driven solutions for better
                                patient care and education.</p>
                            <div class="social-links">
                                <a href="#" class="me-3"><i class="bi bi-facebook"></i></a>
                                <a href="#" class="me-3"><i class="bi bi-twitter"></i></a>
                                <a href="#" class="me-3"><i class="bi bi-linkedin"></i></a>
                                <a href="#" class="me-3"><i class="bi bi-instagram"></i></a>
                            </div>
                        </div>
                        <!-- Quick Links -->
                        <div class="col-lg-2 col-md-6">
                            <h6 class="site-footer-title mb-3">Quick Links</h6>
                            <ul class="site-footer-links">
                                <li class="site-footer-link-item">
                                    <a href="index_doctor.html" class="site-footer-link">Home</a>
                                </li>
                                <li class="site-footer-link-item">
                                    <a href="subscribe_doctor.html" class="site-footer-link">subscribe</a>
                                </li>
                                <li class="site-footer-link-item">
                                    <a href="predict_age.html" class="site-footer-link">predict age</a>
                                </li>
                                <li class="site-footer-link-item">
                                    <a href="predict_Teeth.html" class="site-footer-link">predict teeth</a>
                                </li>
                                <li class="site-footer-link-item">
                                    <a href="predict_gender.html" class="site-footer-link">predict Gender</a>
                                </li>
                                <li class="site-footer-link-item">
                                    <a href="predict_Disease.html" class="site-footer-link">Predict Disease</a>
                                </li>
                            </ul>
                        </div>


                        <!-- Resources -->
                        <div class="col-lg-2 col-md-6">
                            <h6 class="site-footer-title mb-3">Resources</h6>
                            <ul class="site-footer-links">
                                <li class="site-footer-link-item">
                                    <a href="#" class="site-footer-link">About Us</a>
                                </li>
                                <li class="site-footer-link-item">
                                    <a href="#" class="site-footer-link">Documentation</a>
                                </li>
                                <li class="site-footer-link-item">
                                    <a href="#" class="site-footer-link">Support</a>
                                </li>
                                <li class="site-footer-link-item">
                                    <a href="#" class="site-footer-link">FAQs</a>
                                </li>
                            </ul>
                        </div>

                        <!-- Information Column -->
                        <div class="col-lg-3 col-md-6">
                            <h6 class="site-footer-title mb-3">For More Information :</h6>
                            <p class="text-white d-flex">
                                <a href="../contact.html" class="site-footer-link">
                                    Contact Us Here
                                </a>
                            </p>
                        </div>
                    </div>

                    <!-- Copyright Bar -->
                    <div class="row mt-5 pt-4 border-top">
                        <div class="col-lg-6 col-12">
                            <p class="copyright-text">Copyright ©2025 Aidentify. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            </footer>

        <!-- JavaScript Files -->
        <script src="../js/jquery.min.js"></script>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script src="../js/jquery.sticky.js"></script>
        <script src="../js/click-scroll.js"></script>
        <script src="../js/custom.js"></script>
        <script type="module">
            import AuthService from '../js/api/AuthService.js';

            const authService = new AuthService();

            // Handle navbar scroll effect
            window.addEventListener('scroll', function () {
                const navbar = document.querySelector('.navbar');
                if (window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });

            // Check if user is admin
            const user = authService.getUser();
            if (!user || !user.roles || !user.roles.includes('Doctor')) {
                window.location.href = '../login.html';
            }

            // Handle logout
            document.getElementById('logoutBtn').addEventListener('click', async () => {
                try {
                    await authService.logout();
                    window.location.href = '../login.html';
                } catch (error) {
                    console.error('Logout error:', error);
                }
            });
        </script>



    <style>
        .navbar {
            background: transparent;
            border-bottom: 1px solid rgba(128, 208, 199, 0.35);
            z-index: 9;
        }

        .navbar.scrolled {
            background: #80d0c7;
        }

        .navbar-brand {
            font-size: var(--h3-font-size);
            font-weight: var(--font-weight-bold);
            color: var(--white-color);
        }

        .navbar-brand span {
            font-family: var(--title-font-family);
        }

        .navbar-brand img {
            margin-right: 8px;
        }

        .nav-link {
            color: var(--white-color) !important;
            font-family: var(--title-font-family);
            font-size: var(--menu-font-size);
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 10px;
            border-radius: var(--border-radius-large);
            margin: 10px;
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: var(--primary-color) !important;
        }

        .navbar-nav .nav-link.active {
            color: var(--white-color) !important;
        }

        .navbar-nav .nav-link.active:hover {
            color: var(--primary-color) !important;
        }

        .navbar-icon {
            background: var(--white-color);
            border-radius: var(--border-radius-large);
            color: var(--primary-color);
            font-size: var(--h5-font-size);
            width: 40px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            transition: all 0.3s ease;
            margin: 0 0.5rem;
        }

        .navbar-icon:hover {
            background: var(--primary-color);
            color: var(--white-color);
        }

        .subscribe-btn,
        .logout-btn {
            background: var(--white-color);
            color: var(--primary-color);
            border: none;
            padding: 8px 16px;
            border-radius: var(--border-radius-large);
            font-weight: var(--font-weight-medium);
            transition: all 0.3s ease;
            text-decoration: none;
            margin-right: 0;
            display: inline-block;
            text-align: center;
            min-width: 100px;
        }

        .subscribe-btn:hover,
        .logout-btn:hover {
            background: var(--primary-color);
            color: var(--white-color);
        }

        .site-footer {
            background-color: #F8FAFC;
            color: #13547a;
            padding: 80px 0 40px;
            position: relative;
            border-bottom: 10px solid #80d0c7;
        }

        .site-footer::after {
            content: "";
            position: absolute;
            bottom: 0;
            right: 0;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 0 200px 200px;
            border-color: transparent transparent #80d0c7 transparent;
            pointer-events: none;
        }

        .site-footer-title {
            color: #13547a;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .site-footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .site-footer-link-item {
            margin-bottom: 0.75rem;
        }

        .site-footer-link {
            color: #80d0c7;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .site-footer-link:hover {
            color: var(--primary-color);
        }

        .social-links a {
            color: #80d0c7;
            font-size: 1.2rem;
            transition: color 0.3s ease;
        }

        .social-links a:hover {
            color: var(--primary-color);
        }

        .copyright-text {
            color: #13547a;
            font-size: 0.9rem;
        }

        .copyright-text a {
            color: #80d0c7;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .copyright-text a:hover {
            color: var(--primary-color);
        }

        .border-top {
            border-color: rgba(19, 84, 122, 0.2) !important;
        }

        /* Table Styles */
        .table {
            background: var(--white-color);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-collapse: collapse;
        }

        .table thead {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
        }

        .table thead th {
            color: var(--white-color);
            font-weight: var(--font-weight-medium);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 1rem;
            border: none;
        }

        .table tbody tr {
            transition: all 0.3s ease;
        }

        .table tbody tr:hover {
            background-color: rgba(128, 208, 199, 0.1);
        }

        .table tbody td {
            padding: 1rem;
            vertical-align: middle;
            border: none;
            border-bottom: 1px solid rgba(128, 208, 199, 0.2);
        }

        .table tbody tr:last-child td {
            border-bottom: none;
        }

        .table .btn {
            padding: 0.5rem 1rem;
            font-weight: var(--font-weight-medium);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            border-radius: 4px;
        }

        .table .btn-primary {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            border: none;
        }

        .table .btn-primary:hover {
            background: linear-gradient(135deg, var(--secondary-color) 0%, var(--primary-color) 100%);
        }

        .table .btn-danger {
            background-color: #dc3545;
            border-color: #dc3545;
        }

        .table .btn-danger:hover {
            background-color: #bb2d3b;
            border-color: #bb2d3b;
        }

        .table-responsive {
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        /* Minimal Responsive Adjustments */
        @media (max-width: 991px) {
            .navbar {
                background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            }

            .navbar.scrolled {
                background: #80d0c7;
            }

            .navbar-collapse {
                background: transparent;
                padding: 1rem;
                border-radius: 8px;
                margin-top: 1rem;
            }

            .nav-link {
                margin: 0.5rem 0;
                text-align: center;
                line-height: 1.5;
            }

            .navbar-toggler {
                border-color: var(--white-color);
            }

            .navbar-toggler-icon {
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 1)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
            }

            .d-flex.flex-column.flex-lg-row {
                align-items: center !important;
                justify-content: center !important;
                width: 100%;
                margin-top: 1rem;
            }

            .subscribe-btn,
            .navbar-icon,
            .logout-btn {
                margin: 0.5rem !important;
            }

            .navbar-nav {
                text-align: center;
            }
        }

        @media (max-width: 768px) {
            .table-responsive {
                margin: 0;
                border-radius: 8px;
            }

            .table {
                min-width: 650px;
            }
        }

        .site-footer .navbar-brand {
            color: #13547a;
        }

        .site-footer p {
            color: #13547a !important;
        }

        .site-footer .text-white {
            color: #13547a !important;
        }

        .hero-section {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            min-height: 300px;
            position: relative;
        }

        .site-footer .col-lg-2 {
            padding-top: 4.5rem;
        }

        .site-footer-title {
            margin-top: 0;
        }
    </style>
        <!-- Script to handle form submission -->
        <script>
            document.getElementById('createPlanForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const planData = {
                planName: this.planName.value,
                duration: Number(this.duration.value),
                maxScans: Number(this.maxScans.value),
                maxPatients: Number(this.maxPatients.value),
                price: Number(this.price.value),
                planFor: this.planFor.value
            };

            console.log('Submitted Plan:', planData);
            // Send planData to backend using fetch/AJAX here if needed

            this.reset();
            const modal = bootstrap.Modal.getInstance(document.getElementById('AddNewPatient'));
            modal.hide();
            });
        </script>
        <!-- JavaScript for printing only the form with title -->
        <script>
            function printDiv(divId) {
                const printContents = document.getElementById(divId).innerHTML;
                const originalContents = document.body.innerHTML;

                document.body.innerHTML = printContents;
                window.print();
                document.body.innerHTML = originalContents;
                location.reload();
            }
        </script>

    </body>
</html>